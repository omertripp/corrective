\documentclass[preprint,nocopyrightspace]{sigplanconf}

\usepackage{caption}
\DeclareCaptionType{copyrightbox}

\usepackage{amsmath,amsthm,amssymb,stmaryrd}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{MnSymbol}
\usepackage{paralist}
\usepackage{epsfig}
\usepackage{wrapfig}
\usepackage{color}
\usepackage{program}
\usepackage{url}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{subfig} 
\usepackage{proof}
\usepackage{hyperref}
%\usepackage[normalem]{ulem}
\usepackage{harpoon}



\usepackage{supertabular}

\input{defs}
%\input{defs-pmpy}

% program listings
\usepackage{listings}
\lstset{language=java,columns=flexible,numberstyle=\tiny,showstringspaces=false,basicstyle=\sffamily} %,frame=single
\lstset{escapechar=`}
\lstset{morekeywords={
        var, val}}

\newcommand{\juc}{\lstinline+java+.\!\lstinline+util+.\lstinline+concurrent+}
\newcommand{\cConcurrentSkipListMap}{\lstinline+ConcurrentSkipListMap+}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}{Definition}[section]
\newtheorem{parameter}{Parameter}[section]
\newtheorem{property}{Property}[section]
\newtheorem{example}[equation]{Example}
\newtheorem{algorithm}[theorem]{Algorithm}

\newenvironment{itemize*}%
  {\begin{itemize}%
    \setlength{\itemsep}{0.0in}%
    \setlength{\topsep}{0.0in}%
    \setlength{\parskip}{0.0in}}%
  {\end{itemize}}
\newenvironment{enumerate*}%
  {\begin{enumerate}%
    \setlength{\itemsep}{0.0in}%
    \setlength{\topsep}{0.0in}%
    \setlength{\parskip}{0.0in}}%
  {\end{enumerate}}

% URL macro allows linebreaks on slash
\makeatletter
{\catcode`\/\active\catcode`\_\active\catcode`\.\active
\gdef\URLslash{\futurelet\next\@@URLslash}%
\gdef\@@URLslash{\ifx\next\URLslash\char`\/\else\slash\fi}%
\gdef\URLdot{\char`\.\penalty\exhyphenpenalty}%
\gdef\URLprepare{\catcode`\/\active\catcode`\_\active\catcode`\.\active
        \let/\URLslash\let.\URLdot\def~{\char`\~}\def_{\char`\_}}}%
\def\URL{\bgroup\URLprepare\realURL}%
\def\realURL#1{\tt #1\egroup}%




\definecolor{light-gray}{gray}{0.85}
\newcommand\todo[1]{{\color{red} \textbf{#1}}}
%\newcommand\todo[1]{[[[#1]]]}
\newcommand\esays[1]{\todo[color=blue!40]{{\bf E says:} #1}}
\newcommand\msays[1]{\todo[color=red!40]{{\bf M says:} #1}}
\newcommand\whitetext[1]{{\color{white} #1}}
\newcommand\red[1]{{\color{red} #1}}
\newcommand\blue[1]{{\color{blue} #1}}
\newcommand\comment[1]{{\color{blue} #1}}
\newcommand\ignore[1]{}
\newcommand\disabled[1]{{\color{light-gray} #1}}
\newcommand\gray[1]{{\color{light-gray} #1}}
\newcommand\eg{{\it e.g.}}
\newcommand\ie{{\it i.e.}}
\newcommand\cf{{\it cf.}}

\newcommand\FULL[1]{}
\newcommand\SHORT[1]{#1}
\newcommand\BLIND[1]{}
\newcommand\NOTBLIND[1]{#1}

\newcommand\figbox[1]{\noindent{\ \\\fbox{\begin{minipage}{3.2in}
#1
\end{minipage}
}}}

\newcommand\figboxB[1]{\noindent{\ \\\fbox{\begin{minipage}{6.5in}
#1
\end{minipage}
}}}

\input{pietromacro}

\begin{document}

\title{Corrective Synchronization via Trace Warping}
\conferenceinfo{tbd} {tbd}
\copyrightyear{2015}
\copyrightdata{978-1-4503-0490-0/11/01}
\titlebanner{DRAFT---Do not distribute}

\authorinfo{Anonymous} {} {} 
% \authorinfo{Pietro Ferrara} {IBM T.J. Watson Research Center} {pietroferrara@us.ibm.com} 
% \authorinfo{Eric Koskinen} {IBM T.J. Watson Research Center} {ejk@us.ibm.com} 
% \authorinfo{Peng Liu} {Purdue University} {peng74@cs.purdue.edu} 
% \authorinfo{Omer Tripp} {IBM T.J. Watson Research Center} {otripp@us.ibm.com}

%\authorinfo{omitted for double-blind reviewing}{}{}
\maketitle

\begin{abstract}
	Concurrency control is a challenging problem. While some thread interleavings are admissible, there are certain interleaving scenarios that lead to inadmissible program states. Broadly speaking, there are two main paradigms for avoiding such situations: \emph{pessimistic synchronization} reduces parallelism to ensure absence of interference between threads, while \emph{optimistic synchronization} detects when illegal interleavings have occurred and rolls execution (of one or more threads) back to an admissible point.
	
	We propose a novel synchronization paradigm. In our approach, dubbed \emph{corrective synchronization}, the correctness of multithreaded execution is enforced neither by reducing parallelism nor by rolling back illegal thread interleavings, but by correcting the inadmissible state after the fact. The system automatically compensates, if necessary, for the effects of inadmissible interleavings by modifying the program state as a transaction completes while accounting for the behavior of concurrent transactions. We have proven that corrective synchronization is serializable.
	
	In practice, corrective synchronization poses two new challenges, which we take a first step in addressing in this paper: First, for the question of how to identify the admissible states, we apply static analysis to a variant of the program that is serializable by construction. Second, for detection and correction of inadmissible states, we have developed a runtime system that performs both of these steps efficiently assuming the shared state is encoded as one or more associative mappings.
	
	Finally, we present an implementation of our approach for Java. In our experimental evaluation, we compare corrective synchronization with two mainstream techniques: a lock-based approach boosted with abstract {\sf Map} semantics as well as a standard software transactional memory (STM). Our experimental evaluation on several real-world benchmarks indicates x2 speedup improvement compared to these techniques. Further, our technique incurs negligible overhead as compared to the original execution.
\end{abstract}

\input{introduction}

\section{Overview}

%\includegraphics[width=3.2in]{simulation.eps}

%\input{prelim}

%\input{pushpull}

%\input{warp}


\newcommand{\pengtodo}[1]{{\bf #1}}
\newcommand{\pietrotodo}[1]{{\bf #1}}


\input{newformal}

\input{language}

\input{static}

\input{dynamic}


%\pagebreak
%\onecolumn


\input{experimentalresults}

\input{relatedwork}

\input{conclusion}

{%\footnotesize\linespread{0.9}
\bibliographystyle{acm}
%\bibliography{nopages}
\bibliography{biblio}
}


%\newpage
%\appendix
%\input{atomic}

%\section{Complete \PMPY{} rules}
%\input{bigfig}

%\input{old}

%\input{pietroformal}

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
