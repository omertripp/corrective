%!TEX root=paper.tex
% generated by Ott 0.21.2 from: pushpull.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}

\newcommand\myOttCrit[2]{(#2)-}
\newcommand\myOttCritAPPi{\myOttCrit{\APP{}}{i}}
\newcommand\myOttCritAPPii{\myOttCrit{\APP{}}{ii}}
\newcommand\myOttCritAPPiii{\myOttCrit{\APP{}}{iii}}
\newcommand\myOttCritPUSHi{\myOttCrit{\PUSH{}}{i}}
\newcommand\myOttCritPUSHii{\myOttCrit{\PUSH{}}{ii}}
\newcommand\myOttCritPUSHiii{\myOttCrit{\PUSH{}}{iii}}
\newcommand\myOttCritUNPUSHi{\myOttCrit{\UNPUSH{}}{i}}
\newcommand\myOttCritUNPUSHii{\myOttCrit{\UNPUSH{}}{ii}}
\newcommand\myOttCritPULLi{\myOttCrit{\PULL{}}{i}}
\newcommand\myOttCritPULLii{\myOttCrit{\PULL{}}{ii}}
\newcommand\myOttCritPULLiii{\myOttCrit{\PULL{}}{iii}}
\newcommand\myOttCritUNPULLi{\myOttCrit{\UNPULL{}}{i}}
\newcommand\myOttCritCMTi{\myOttCrit{\CMT{}}{i}}
\newcommand\myOttCritCMTii{\myOttCrit{\CMT{}}{ii}}
\newcommand\myOttCritCMTiii{\myOttCrit{\CMT{}}{iii}}
\newcommand\myOttCritCMTiv{\myOttCrit{\CMT{}}{iv}}

%BETTER: \newcommand{\ottdrule}[4][]{{\infer[#4]{#3}{\begin{array}{lll}#2\end{array}&\hfill}}}
\newcommand{\ottPMPYrule}[4][]{\begin{tabular}{ll}%
    $\begin{array}{ll}#2\end{array}$ & \\%
    $\infer[#4]{#3}{}$ &%
    \end{tabular}}

\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newcommand{\ottcritpremise}[2]{ #1 & #2 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{termvar} ,\, \ottmv{x} $ &  \\
}}

\newcommand{\ottc}{
\ottrulehead{\ottnt{c}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{m}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{c_{{\mathrm{1}}}}  \plust  \ottnt{c_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{c_{{\mathrm{1}}}}  \semit  \ottnt{c_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ ( \ottnt{c_{{\mathrm{1}}}} )^* }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \tx{ \ottnt{c_{{\mathrm{1}}}} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \skipt }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{c_{{\mathrm{1}}}}  \ottsym{)}} {\textsf{M}}{}{}{}}

\newcommand{\ottopid}{
\ottrulehead{\opid}{::=}{}}

\newcommand{\ottids}{
\ottrulehead{\textsf{ids}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{IDS} \, \OPL} {\textsf{M}}{}{}{}}

\newcommand{\ottm}{
\ottrulehead{\ottnt{m}}{::=}{}}

\newcommand{\ottst}{
\ottrulehead{\sigma}{::=}{}}

\newcommand{\ottaop}{
\ottrulehead{\op}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \op } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \langle  \ottnt{m_{{\mathrm{1}}}} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}}  \rangle } {\textsf{M}}{}{}{}}

\newcommand{\ottop}{
\ottrulehead{\op}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \langle  \ottnt{m_{{\mathrm{1}}}} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}} ,  \opid  \rangle } {\textsf{M}}{}{}{}}

\newcommand{\ottg}{
\ottrulehead{\ottnt{g}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \gCommitted }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \gUncommitted }{}{}{}{}}

\newcommand{\ottG}{
\ottrulehead{\ottnt{G}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{G_{{\mathrm{1}}}}  \cdot  \ottnt{G_{{\mathrm{2}}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{G_{{\mathrm{1}}}}  \cdot [  \op ,  \ottnt{g_{{\mathrm{1}}}}  ] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{G_{{\mathrm{1}}}} } {\textsf{M}}{}{}{}}

\newcommand{\ottl}{
\ottrulehead{\ottnt{l}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \lUnpushed\  \ottnt{c_{{\mathrm{1}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \lPushed\  \ottnt{c_{{\mathrm{1}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \lPulled }{}{}{}{}}

\newcommand{\ottL}{
\ottrulehead{\ottnt{L}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{L_{{\mathrm{1}}}}  \cdot  \ottnt{L_{{\mathrm{2}}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,  \ottnt{l_{{\mathrm{1}}}}  ] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{L_{{\mathrm{1}}}} } {\textsf{M}}{}{}{}}

\newcommand{\ottOPL}{
\ottrulehead{\OPL}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \cdot [  \op  ] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \cdot  \OPL_{{\mathrm{2}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \unpushed{ \ottnt{L_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \pushed{ \ottnt{L_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \pulled{ \ottnt{L_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \guncommitted{ \ottnt{G_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \gcommitted{ \ottnt{G_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{G_{{\mathrm{1}}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \setminus  \OPL_{{\mathrm{2}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{L_{{\mathrm{1}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{G_{{\mathrm{1}}}}} {\textsf{M}}{}{}{}}

\newcommand{\ottAOPL}{
\ottrulehead{\OPL}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \cdot [  \op  ] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \cdot  \OPL_{{\mathrm{2}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}} } {\textsf{M}}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \step{c_1}{m_1}{m_2}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \nothing{ \ottnt{c_{{\mathrm{1}}}} } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \fresh{ \opid } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \committ( \ottnt{G_{{\mathrm{1}}}} ,  \ottnt{L_{{\mathrm{1}}}} ,  \ottnt{G_{{\mathrm{2}}}} ) } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \op  \notin  \OPL_{{\mathrm{1}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \OPL_{{\mathrm{1}}}  \textsf{ allows }  \op } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \textsf{allowed }  \OPL_{{\mathrm{1}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\op \, \;\blacktriangleleft\; \, \op} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\op \, \;\blacktriangleright\; \, \op} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{makeidfun(}  \textsf{ids}  \ottsym{,}  \mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \ottsym{)}} {\textsf{M}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ {}^{*} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textrm{\bf ;} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textrm{+} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pmpyreduce }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pmpyreduce^{*} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \xrightarrow{a} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \xrightarrow{a}^{*} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{skip} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \setminus }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \;\blacktriangleleft\; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \;\blacktriangleright\; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \;\blacktriangleleft\; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \;\blacktriangleright\; }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \subseteq }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Downarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash }{}{}{}{}}

\newcommand{\ottrt}{
\ottrulehead{\pmpyrt}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \Fwd }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Bwd }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \pmpystruct }{}{}{}{}}

\newcommand{\ottT}{
\ottrulehead{\ottnt{T}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \{  \ottnt{c_{{\mathrm{1}}}} , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \} }{}{}{}{}}

\newcommand{\ottTT}{
\ottrulehead{\mathbf{T}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{T} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbf{T}_{{\mathrm{1}}}  \cdot  \mathbf{T}_{{\mathrm{2}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbf{T}_{{\mathrm{1}}} } {\textsf{M}}{}{}{}}

\newcommand{\ottAT}{
\ottrulehead{\mathbf{A}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [] } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbf{A}_{{\mathrm{1}}}  \cdot  \mathbf{A}_{{\mathrm{2}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbf{A}_{{\mathrm{1}}}  \cdot ( \sigma_{{\mathrm{1}}} , \ottnt{c_{{\mathrm{1}}}} ) } {\textsf{M}}{}{}{}}

\newcommand{\ottJ}{
\ottrulehead{\ottnt{J}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\OPL_{{\mathrm{1}}} \, \subseteq \, \OPL_{{\mathrm{2}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\OPL_{{\mathrm{1}}}  \;\blacktriangleleft\;  \op}{}{}{}{}\ottprodnewline
\ottprodline{|}{\OPL_{{\mathrm{1}}}  \;\blacktriangleright\;  \op}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{T_{{\mathrm{1}}}} ,  \ottnt{G_{{\mathrm{1}}}}   \pmpyrt   \ottnt{T_{{\mathrm{2}}}} ,  \ottnt{G_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{c}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}  \ottnt{c_{{\mathrm{2}}}}  \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{}{}{}{}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{J}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{termvar}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{c}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\opid}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textsf{ids}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{m}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\sigma}{}{}{}{}\ottprodnewline
\ottprodline{|}{\op}{}{}{}{}\ottprodnewline
\ottprodline{|}{\op}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{g}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{G}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{l}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{L}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\OPL}{}{}{}{}\ottprodnewline
\ottprodline{|}{\OPL}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\pmpyrt}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{T}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbf{T}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbf{A}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottc\ottinterrule
\ottopid\ottinterrule
\ottids\ottinterrule
\ottm\ottinterrule
\ottst\ottinterrule
\ottaop\ottinterrule
\ottop\ottinterrule
\ottg\ottinterrule
\ottG\ottinterrule
\ottl\ottinterrule
\ottL\ottinterrule
\ottOPL\ottinterrule
\ottAOPL\ottinterrule
\ottformula\ottinterrule
\ottterminals\ottinterrule
\ottrt\ottinterrule
\ottT\ottinterrule
\ottTT\ottinterrule
\ottAT\ottinterrule
\ottJ\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns J
%% defn OPLsubOPL

\newcommand{\ottdefnOPLsubOPL}[1]{\begin{ottdefnblock}[#1]{$\OPL_{{\mathrm{1}}} \, \subseteq \, \OPL_{{\mathrm{2}}}$}{}
\end{ottdefnblock}}

%% defn LM
\newcommand{\ottdruleLMind}[1]{\ottdrule[#1]{%
\ottpremise{\OPL_{{\mathrm{1}}}  \;\blacktriangleleft\;  \op}%
\ottpremise{\op \, \;\blacktriangleleft\; \, \op}%
}{
 \OPL_{{\mathrm{1}}}  \cdot [  \op  ]   \;\blacktriangleleft\;  \op}{%
{\ottdrulename{LMind}}{}%
}}


\newcommand{\ottdruleLMbase}[1]{\ottdrule[#1]{%
}{
 []   \;\blacktriangleleft\;  \op}{%
{\ottdrulename{LMbase}}{}%
}}

\newcommand{\ottdefnLM}[1]{\begin{ottdefnblock}[#1]{$\OPL_{{\mathrm{1}}}  \;\blacktriangleleft\;  \op$}{}
\ottusedrule{\ottdruleLMind{}}
\ottusedrule{\ottdruleLMbase{}}
\end{ottdefnblock}}

%% defn RM
\newcommand{\ottdruleRMind}[1]{\ottdrule[#1]{%
\ottpremise{\OPL_{{\mathrm{1}}}  \;\blacktriangleright\;  \op}%
\ottpremise{\op \, \;\blacktriangleright\; \, \op}%
}{
 \OPL_{{\mathrm{1}}}  \cdot [  \op  ]   \;\blacktriangleright\;  \op}{%
{\ottdrulename{RMind}}{}%
}}


\newcommand{\ottdruleRMbase}[1]{\ottdrule[#1]{%
}{
 []   \;\blacktriangleright\;  \op}{%
{\ottdrulename{RMbase}}{}%
}}

\newcommand{\ottdefnRM}[1]{\begin{ottdefnblock}[#1]{$\OPL_{{\mathrm{1}}}  \;\blacktriangleright\;  \op$}{}
\ottusedrule{\ottdruleRMind{}}
\ottusedrule{\ottdruleRMbase{}}
\end{ottdefnblock}}

%% defn gMachine
\newcommand{\ottdruleapp}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritAPPi}{ \step{c_1}{m}{c_2} }%
\ottcritpremise{  \myOttCritAPPii}{ \ottnt{L_{{\mathrm{1}}}}   \textsf{ allows }   \langle  \ottnt{m} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}}  \rangle  }%
\ottcritpremise{ \myOttCritAPPiii}{ \fresh{ \opid } }%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}}    \Fwd     \{   \tx{ \ottnt{c_{{\mathrm{2}}}} }  , \sigma_{{\mathrm{2}}} ,  \ottnt{L_{{\mathrm{1}}}}  \cdot [   \langle  \ottnt{m} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}} ,  \opid  \rangle  ,   \lUnpushed\  \ottnt{c_{{\mathrm{1}}}}   ]   \}  ,  \ottnt{G_{{\mathrm{1}}}} }{%
{\ottdrulename{apply}}{}%
}}


\newcommand{\ottdruleunapp}[1]{\ottdrule[#1]{%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,  \ottnt{L_{{\mathrm{1}}}}  \cdot [   \langle  \ottnt{m} ,  \sigma_{{\mathrm{2}}} ,  \sigma_{{\mathrm{3}}} ,  \opid  \rangle  ,   \lUnpushed\  \ottnt{c_{{\mathrm{2}}}}   ]   \}  ,  \ottnt{G_{{\mathrm{1}}}}    \Bwd     \{   \tx{ \ottnt{c_{{\mathrm{2}}}} }  , \sigma_{{\mathrm{2}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}} }{%
{\ottdrulename{unapply}}{}%
}}


\newcommand{\ottdrulecmt}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritCMTi}{ \nothing{ \ottnt{c_{{\mathrm{1}}}} } }%
\ottcritpremise{\myOttCritCMTii}{ \ottnt{L_{{\mathrm{1}}}} \, \subseteq \, \ottnt{G_{{\mathrm{1}}}}}%
\ottcritpremise{ \myOttCritCMTiii}{  \pulled{ \ottnt{L_{{\mathrm{1}}}} }   \, \subseteq \,   \gcommitted{ \ottnt{G_{{\mathrm{1}}}} }  }%
\ottcritpremise{ \myOttCritCMTiv}{ \committ( \ottnt{G_{{\mathrm{1}}}} ,  \ottnt{L_{{\mathrm{1}}}} ,  \ottnt{G_{{\mathrm{2}}}} ) }%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}}    \Fwd     \{   \skipt  , \sigma_{{\mathrm{1}}} ,  []   \}  ,  \ottnt{G_{{\mathrm{2}}}} }{%
{\ottdrulename{cmt}}{}%
}}


\newcommand{\ottdrulepush}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritPUSHi}{ \op \;\blacktriangleleft\; \unpushed{ \ottnt{L_{{\mathrm{1}}}} }}%
\ottcritpremise{ \myOttCritPUSHii}{  \guncommitted{ \ottnt{G_{{\mathrm{1}}}} }    \setminus    \pushed{   \ottnt{L_{{\mathrm{1}}}}  \cdot  \ottnt{L_{{\mathrm{2}}}}   } \;\blacktriangleleft\;\op  }%
\ottcritpremise{  \myOttCritPUSHiii}{ \ottnt{G_{{\mathrm{1}}}}   \textsf{ allows }   \op  }%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,   \lUnpushed\  \ottnt{c_{{\mathrm{2}}}}   ]   \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,  \ottnt{G_{{\mathrm{1}}}}    \Fwd     \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,   \lPushed\  \ottnt{c_{{\mathrm{2}}}}   ]   \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,   \ottnt{G_{{\mathrm{1}}}}  \cdot [  \op ,   \gUncommitted   ]  }{%
{\ottdrulename{push}}{}%
}}


\newcommand{\ottdruleunpush}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritUNPUSHi}{ \gray{\textsf{allowed }      \ottnt{G_{{\mathrm{1}}}}  \cdot  \ottnt{G_{{\mathrm{2}}}}  }   }%
\ottcritpremise{ \myOttCritUNPUSHii}{ \pushed{ \ottnt{L_{{\mathrm{2}}}} }   \;\blacktriangleleft\;  \op}%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,   \lPushed\  \ottnt{c_{{\mathrm{2}}}}   ]   \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,    \ottnt{G_{{\mathrm{1}}}}  \cdot [  \op ,  \ottnt{g}  ]   \cdot  \ottnt{G_{{\mathrm{2}}}}     \Bwd     \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,   \lUnpushed\  \ottnt{c_{{\mathrm{2}}}}   ]   \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,   \ottnt{G_{{\mathrm{1}}}}  \cdot  \ottnt{G_{{\mathrm{2}}}}  }{%
{\ottdrulename{unpush}}{}%
}}


\newcommand{\ottdrulepull}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritPULLi}{ \op  \notin  \ottnt{L} }%
\ottcritpremise{ \myOttCritPULLii}{  \ottnt{L}   \textsf{ allows }   \op  }%
\ottcritpremise{  \myOttCritPULLiii}{ \gray{ \op     \;\blacktriangleleft\; \pushed{ \ottnt{L} }    \cup    \unpushed{ \ottnt{L} } }}%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,     \ottnt{G_{{\mathrm{1}}}}  \cdot [  \op ,  \ottnt{g}  ]    \cdot  \ottnt{G_{{\mathrm{2}}}}     \Fwd     \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L}  \cdot [  \op ,   \lPulled   ]    \}  ,     \ottnt{G_{{\mathrm{1}}}}  \cdot [  \op ,  \ottnt{g}  ]    \cdot  \ottnt{G_{{\mathrm{2}}}}  }{%
{\ottdrulename{pull}}{}%
}}

% \ottnt{L_{{\mathrm{2}}}}  \;\blacktriangleleft\;  \op
\newcommand{\ottdruleunpull}[1]{\ottPMPYrule[#1]{%
\ottcritpremise{ \myOttCritUNPULLi}{ \allowed{L_1\cdot L_2}}%
}{
  \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,   \ottnt{L_{{\mathrm{1}}}}  \cdot [  \op ,   \lPulled   ]   \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,  \ottnt{G}    \Bwd     \{   \tx{ \ottnt{c_{{\mathrm{1}}}} }  , \sigma_{{\mathrm{1}}} ,  \ottnt{L_{{\mathrm{1}}}}  \cdot  \ottnt{L_{{\mathrm{2}}}}   \}  ,  \ottnt{G} }{%
{\ottdrulename{unpull}}{}%
}}


\newcommand{\ottdrulenondetL}[1]{\ottdrule[#1]{%
}{
  \{   \ottnt{c_{{\mathrm{1}}}}  \plust  \ottnt{c_{{\mathrm{2}}}}  , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G}    \pmpystruct     \{  \ottnt{c_{{\mathrm{1}}}} , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G} }{%
{\ottdrulename{nondetL}}{}%
}}


\newcommand{\ottdrulenondetR}[1]{\ottdrule[#1]{%
}{
  \{   \ottnt{c_{{\mathrm{1}}}}  \plust  \ottnt{c_{{\mathrm{2}}}}  , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G}    \pmpystruct     \{  \ottnt{c_{{\mathrm{2}}}} , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G} }{%
{\ottdrulename{nondetR}}{}%
}}


\newcommand{\ottdruleloop}[1]{\ottdrule[#1]{%
}{
  \{   ( \ottsym{(}  \ottnt{c}  \ottsym{)} )^*  , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G}    \pmpystruct     \{   \ottsym{(}   \ottnt{c}  \semit  \ottsym{(}   ( \ottnt{c} )^*   \ottsym{)}   \ottsym{)}  \plust   \skipt   , \sigma_{{\mathrm{1}}} , \ottnt{L}  \}  ,  \ottnt{G} }{%
{\ottdrulename{loop}}{}%
}}


\newcommand{\ottdrulesemi}[1]{\ottdrule[#1]{%
\ottpremise{  \{  \ottnt{c_{{\mathrm{1}}}} , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}}   \pmpyrt    \{  \ottnt{c'_{{\mathrm{1}}}} , \sigma_{{\mathrm{2}}} , \ottnt{L_{{\mathrm{2}}}}  \}  ,  \ottnt{G_{{\mathrm{2}}}} }%
}{
  \{   \ottnt{c_{{\mathrm{1}}}}  \semit  \ottnt{c_{{\mathrm{2}}}}  , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}}   \pmpyrt    \{   \ottnt{c'_{{\mathrm{1}}}}  \semit  \ottnt{c_{{\mathrm{2}}}}  , \sigma_{{\mathrm{2}}} , \ottnt{L_{{\mathrm{2}}}}  \}  ,  \ottnt{G_{{\mathrm{2}}}} }{%
{\ottdrulename{semi}}{}%
}}


\newcommand{\ottdrulesemiskip}[1]{\ottdrule[#1]{%
}{
  \{    \skipt   \semit  \ottnt{c_{{\mathrm{1}}}}  , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}}    \pmpystruct     \{  \ottnt{c_{{\mathrm{1}}}} , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}  ,  \ottnt{G_{{\mathrm{1}}}} }{%
{\ottdrulename{semiskip}}{}%
}}

\newcommand{\ottdefngMachine}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{T_{{\mathrm{1}}}} ,  \ottnt{G_{{\mathrm{1}}}}   \pmpyrt   \ottnt{T_{{\mathrm{2}}}} ,  \ottnt{G_{{\mathrm{2}}}} $}{}
\ottusedrule{\ottdruleapp{}}
\ottusedrule{\ottdruleunapp{}}
\ottusedrule{\ottdrulecmt{}}
\ottusedrule{\ottdrulepush{}}
\ottusedrule{\ottdruleunpush{}}
\ottusedrule{\ottdrulepull{}}
\ottusedrule{\ottdruleunpull{}}
\ottusedrule{\ottdrulenondetL{}}
\ottusedrule{\ottdrulenondetR{}}
\ottusedrule{\ottdruleloop{}}
\ottusedrule{\ottdrulesemi{}}
\ottusedrule{\ottdrulesemiskip{}}
\end{ottdefnblock}}

%% defn gMach
\newcommand{\ottdrulemachXXone}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{T_{{\mathrm{1}}}} ,  \ottnt{G_{{\mathrm{1}}}}   \pmpyrt   \ottnt{T_{{\mathrm{2}}}} ,  \ottnt{G_{{\mathrm{2}}}} }%
%\ottpremise{\ottsym{makeidfun(}  \textsf{ids}_{{\mathrm{1}}}  \ottsym{,}     \mathbf{T}_{{\mathrm{1}}}  \cdot   \ottnt{T_{{\mathrm{1}}}}     \cdot  \mathbf{T}_{{\mathrm{2}}}   \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \ottsym{)}}%
}{
   \mathbf{T}_{{\mathrm{1}}}  \cdot   \ottnt{T_{{\mathrm{1}}}}     \cdot  \mathbf{T}_{{\mathrm{2}}}   \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyrt     \mathbf{T}_{{\mathrm{1}}}  \cdot   \ottnt{T_{{\mathrm{2}}}}     \cdot  \mathbf{T}_{{\mathrm{2}}}   \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}{%
{\ottdrulename{ms\_select}}{}%
}}

\newcommand{\ottdefngMach}[1]{\begin{ottdefnblock}[#1]{$\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}$}{}
\ottusedrule{\ottdrulemachXXone{}}
\end{ottdefnblock}}

%% defn gMachStar
\newcommand{\ottdrulemsXXrefl}[1]{\ottdrule[#1]{%
}{
\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}}{%
{\ottdrulename{ms\_refl}}{}%
}}


\newcommand{\ottdrulemsXXone}[1]{\ottdrule[#1]{%
\ottpremise{\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyrt  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}%
}{
\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}{%
{\ottdrulename{ms\_one}}{}%
}}


\newcommand{\ottdrulemsXXend}[1]{\ottdrule[#1]{%
}{
   \mathbf{T}_{{\mathrm{1}}}  \cdot    \{   \skipt  , \sigma_{{\mathrm{1}}} , \ottnt{L_{{\mathrm{1}}}}  \}      \cdot  \mathbf{T}_{{\mathrm{2}}}   \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}   \mathbf{T}_{{\mathrm{1}}}  \cdot  \mathbf{T}_{{\mathrm{2}}}   \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}}{%
{\ottdrulename{ms\_end}}{}%
}}


\newcommand{\ottdrulemsXXtrans}[1]{\ottdrule[#1]{%
\ottpremise{\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}}%
\ottpremise{\mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{3}}}  \ottsym{,}  \ottnt{G_{{\mathrm{3}}}}}%
}{
\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{3}}}  \ottsym{,}  \ottnt{G_{{\mathrm{3}}}}}{%
{\ottdrulename{ms\_trans}}{}%
}}

\newcommand{\ottdefngMachStar}[1]{\begin{ottdefnblock}[#1]{$\mathbf{T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{G_{{\mathrm{1}}}}  \pmpyreduce^{*}  \mathbf{T}_{{\mathrm{2}}}  \ottsym{,}  \ottnt{G_{{\mathrm{2}}}}$}{}
\ottusedrule{\ottdrulemsXXrefl{}}
\ottusedrule{\ottdrulemsXXone{}}
\ottusedrule{\ottdrulemsXXend{}}
\ottusedrule{\ottdrulemsXXtrans{}}
\end{ottdefnblock}}

%% defn bigStep
\newcommand{\ottdrulebsstep}[1]{\ottdrule[#1]{%
\ottpremise{ \step{c_1}{m_2}{c_2} }%
\ottpremise{ \OPL_{{\mathrm{1}}}  \textsf{ allows }   \langle  \ottnt{m_{{\mathrm{1}}}} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}}  \rangle  }%
\ottpremise{\ottsym{(}  \ottnt{c_{{\mathrm{2}}}}  \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{)}  \ottsym{,}   \OPL_{{\mathrm{1}}}  \cdot [   \langle  \ottnt{m_{{\mathrm{1}}}} ,  \sigma_{{\mathrm{1}}} ,  \sigma_{{\mathrm{2}}}  \rangle   ]   \Downarrow  \sigma_{{\mathrm{3}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
}{
\ottsym{(}  \ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{3}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{%
{\ottdrulename{bsstep}}{}%
}}


\newcommand{\ottdrulebsfin}[1]{\ottdrule[#1]{%
\ottpremise{ \nothing{ \ottnt{c} } }%
}{
\ottsym{(}  \ottnt{c}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}}{%
{\ottdrulename{bsfin}}{}%
}}

\newcommand{\ottdefnbigStep}[1]{\begin{ottdefnblock}[#1]{$\ottsym{(}  \ottnt{c}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}$}{}
\ottusedrule{\ottdrulebsstep{}}
\ottusedrule{\ottdrulebsfin{}}
\end{ottdefnblock}}

%% defn aMach
\newcommand{\ottdruleamXXruntx}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{(}  \ottnt{c}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
}{
 \tx{ \ottnt{c} }   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}   \skipt   \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{%
{\ottdrulename{am\_runtx}}{}%
}}


\newcommand{\ottdruleamXXcmd}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{(}  \ottnt{m_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{)}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \Downarrow  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
}{
\ottnt{m_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}   \skipt   \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{%
{\ottdrulename{am\_cmd}}{}%
}}


\newcommand{\ottdruleamXXnondetL}[1]{\ottdrule[#1]{%
}{
 \ottnt{c_{{\mathrm{1}}}}  \plust  \ottnt{c_{{\mathrm{2}}}}   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL  \xrightarrow{a}  \ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL}{%
{\ottdrulename{am\_nondetL}}{}%
}}


\newcommand{\ottdruleamXXnondetR}[1]{\ottdrule[#1]{%
}{
 \ottnt{c_{{\mathrm{1}}}}  \plust  \ottnt{c_{{\mathrm{2}}}}   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL  \xrightarrow{a}  \ottnt{c_{{\mathrm{2}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL}{%
{\ottdrulename{am\_nondetR}}{}%
}}


\newcommand{\ottdruleamXXloop}[1]{\ottdrule[#1]{%
}{
 ( \ottsym{(}  \ottnt{c}  \ottsym{)} )^*   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL  \xrightarrow{a}   \ottsym{(}   \ottnt{c}  \semit  \ottsym{(}   ( \ottnt{c} )^*   \ottsym{)}   \ottsym{)}  \plust   \skipt    \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL}{%
{\ottdrulename{am\_loop}}{}%
}}


\newcommand{\ottdruleamXXsemi}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}  \ottnt{c'_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
}{
 \ottnt{c_{{\mathrm{1}}}}  \semit  \ottnt{c_{{\mathrm{2}}}}   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}   \ottnt{c'_{{\mathrm{1}}}}  \semit  \ottnt{c_{{\mathrm{2}}}}   \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}{%
{\ottdrulename{am\_semi}}{}%
}}


\newcommand{\ottdruleamXXsemiskip}[1]{\ottdrule[#1]{%
}{
  \skipt   \semit  \ottnt{c_{{\mathrm{1}}}}   \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}  \ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}}{%
{\ottdrulename{am\_semiskip}}{}%
}}

\newcommand{\ottdefnaMach}[1]{\begin{ottdefnblock}[#1]{$\ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}  \ottnt{c_{{\mathrm{2}}}}  \ottsym{,}  \sigma_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}$}{}
\ottusedrule{\ottdruleamXXruntx{}}
\ottusedrule{\ottdruleamXXcmd{}}
\ottusedrule{\ottdruleamXXnondetL{}}
\ottusedrule{\ottdruleamXXnondetR{}}
\ottusedrule{\ottdruleamXXloop{}}
\ottusedrule{\ottdruleamXXsemi{}}
\ottusedrule{\ottdruleamXXsemiskip{}}
\end{ottdefnblock}}

%% defn aMachStar
\newcommand{\ottdruleamsXXrefl}[1]{\ottdrule[#1]{%
}{
\mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}}{%
{\ottdrulename{ams\_refl}}{}%
}}


\newcommand{\ottdruleamsXXone}[1]{\ottdrule[#1]{%
\ottpremise{(\ottnt{c_{{\mathrm{1}}}}  \ottsym{,}  \sigma_{{\mathrm{1}}})  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}  (\ottnt{c_{{\mathrm{2}}}}  \ottsym{,}  \sigma_{{\mathrm{2}}})  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
}{
  \mathbf{A}_{{\mathrm{1}}}  \cdot ( \sigma_{{\mathrm{1}}} , \ottnt{c_{{\mathrm{1}}}} )   \cdot  \mathbf{A}_{{\mathrm{2}}}   \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}    \mathbf{A}_{{\mathrm{1}}}  \cdot ( \sigma_{{\mathrm{2}}} , \ottnt{c_{{\mathrm{2}}}} )   \cdot  \mathbf{A}_{{\mathrm{2}}}   \ottsym{,}  \OPL_{{\mathrm{2}}}}{%
{\ottdrulename{ams\_one}}{}%
}}


\newcommand{\ottdruleamsXXend}[1]{\ottdrule[#1]{%
}{
  \mathbf{A}_{{\mathrm{1}}}  \cdot ( \sigma_{{\mathrm{1}}} ,  \skipt  )   \cdot  \mathbf{A}_{{\mathrm{2}}}   \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}   \mathbf{A}_{{\mathrm{1}}}  \cdot  \mathbf{A}_{{\mathrm{2}}}   \ottsym{,}  \OPL_{{\mathrm{1}}}}{%
{\ottdrulename{ams\_end}}{}%
}}


\newcommand{\ottdruleamsXXtrans}[1]{\ottdrule[#1]{%
\ottpremise{\mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}}%
\ottpremise{\mathbf{A}_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{3}}}  \ottsym{,}  \OPL_{{\mathrm{3}}}}%
}{
\mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{3}}}  \ottsym{,}  \OPL_{{\mathrm{3}}}}{%
{\ottdrulename{ams\_trans}}{}%
}}

\newcommand{\ottdefnaMachStar}[1]{\begin{ottdefnblock}[#1]{$\mathbf{A}_{{\mathrm{1}}}  \ottsym{,}  \OPL_{{\mathrm{1}}}  \xrightarrow{a}^{*}  \mathbf{A}_{{\mathrm{2}}}  \ottsym{,}  \OPL_{{\mathrm{2}}}$}{}
\ottusedrule{\ottdruleamsXXrefl{}}
\ottusedrule{\ottdruleamsXXone{}}
\ottusedrule{\ottdruleamsXXend{}}
\ottusedrule{\ottdruleamsXXtrans{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsJ}{
\ottdefnOPLsubOPL{}\ottdefnLM{}\ottdefnRM{}\ottdefngMachine{}\ottdefngMach{}\ottdefngMachStar{}\ottdefnbigStep{}\ottdefnaMach{}\ottdefnaMachStar{}}

\newcommand{\ottdefnss}{
\ottdefnsJ
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "paper"
%%% End: 
